{% extends "model.html" %}
{% block model_content %}
    <table class="table">
        <tr class="skip-border">
            <td>Model Name</td>
            <td>{{ model_info.name }}</td>
        </tr>
        <tr>
            <td>Deployed Env</td>
            <td>({{ env}})</td>
        </tr>
        <tr>
            <td>current Version</td>
            <td>{{ current_version }}</td>
        </tr>
        {% if model_info.max_version %}
        <tr>
            <td>Model Versions</td>
            <td>
                <table class="table table-bordered">
                    {% for version in model_details.model_version_list_details %}
                    <tr>
                        <td><a href="{{ url_for(".model_details", modelname=model_info.name,
                            section="overview",
                            env=env,
                            version=version.filename) }}">{{version.filename}}</a></td>
                        <td>{{version.size}}</td>
                        <td>{{ version.modified_at }}</td>
                    </tr>
            
                    {% endfor %}
                </table>
            </td>
        </tr>
        {% endif %}
        <tr>
            <td>Model Service Ports</td>
            <td>
                <table class="table table-bordered">
                    <tr>
                        <td>Recomserver Ports</td>
                        <td>{{ model_details["recomserver_ports"] }}</td>
                        <td>
                            {% if recom_status=="running" %}
                                <span class="badge">{{recom_status}}</span>
                            {% else %}
                                <span class="badge all">{{recom_status}}</span>
                            {% endif %}
                        </td>
                        <td><a href="{{ url_for(".model_details", modelname=model_info.name,
                            section="restart",
                            env=env,
                            version=current_version) }}">restart</a></td>
                        <td><a href="{{ url_for(".model_details",
                            modelname=model_info.name, 
                            filename="recom_log",
                            section="model_logs", 
                            version=current_version,
                            env=env)}}">log</a></td>
                    </tr>
                    <tr>
                        <td>Rewardserver Ports</td>
                        <td>{{ model_details["rewardserver_ports"] }}</td>
                        <td>
                            {% if reward_status=="running" %}
                                <span class="badge">{{reward_status}}</span>
                            {% else %}
                                <span class="badge all">{{reward_status}}</span>
                            {% endif %}
                        </td>
                        <td><a href="{{ url_for(".model_details", modelname=model_info.name,
                            section="restart",
                            env=env,
                            version=current_version) }}">restart</a></td>
                        <td><a href="{{ url_for(".model_details",
                            modelname=model_info.name, 
                            filename="reward_log",
                            section="model_logs", 
                            version=current_version,
                            env=env)}}">log</a></td>
                    </tr>
                    
                </table>
            </td>  
        </tr>
    </table>
{% endblock %}